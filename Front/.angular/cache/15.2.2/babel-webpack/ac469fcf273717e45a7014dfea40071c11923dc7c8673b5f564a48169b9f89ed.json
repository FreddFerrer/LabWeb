{"ast":null,"code":"import { debounceTime } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction BuscadorComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(result_r1.analisis);\n  }\n}\nexport class BuscadorComponent {\n  constructor(http) {\n    this.http = http;\n    this.searchResults = [];\n    this.debouncedSearch = debounceTime(300)(this.handleSearchInput.bind(this));\n  }\n  ngOnInit() {}\n  search() {\n    this.http.get(`/api/busqueda?query=${this.searchTerm}`).subscribe(results => {\n      this.searchResults = results;\n    }, error => {\n      console.error(error);\n    });\n  }\n  handleSearchInput() {\n    this.searchTerm = this.searchTerm.trim();\n    if (this.searchTerm.length >= 3) {\n      this.search();\n    } else {\n      this.searchResults = [];\n    }\n  }\n}\nBuscadorComponent.ɵfac = function BuscadorComponent_Factory(t) {\n  return new (t || BuscadorComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nBuscadorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BuscadorComponent,\n  selectors: [[\"app-buscador\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"row\"], [1, \"col-md-6\"], [1, \"list-group\"], [\"type\", \"button\", \"class\", \"list-group-item list-group-item-action\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"list-group-item\", \"list-group-item-action\"]],\n  template: function BuscadorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Lista 1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ul\", 2);\n      i0.ɵɵtemplate(5, BuscadorComponent_button_5_Template, 2, 1, \"button\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.searchResults);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAqBA,YAAY,QAA8B,MAAM;;;;;;ICE7DC,iCACqC;IAAAA,YAAqB;IAAAA,iBAAS;;;;IAA9BA,eAAqB;IAArBA,wCAAqB;;;ADMlE,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFxB,kBAAa,GAAU,EAAE;IA2BzB,oBAAe,GAAGJ,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAACK,iBAAiB,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAzB9B;EAExCC,QAAQ,IACR;EAEAC,MAAM;IACJ,IAAI,CAACJ,IAAI,CAACK,GAAG,CAAQ,uBAAuB,IAAI,CAACC,UAAU,EAAE,CAAC,CAACC,SAAS,CACtEC,OAAO,IAAG;MACR,IAAI,CAACC,aAAa,GAAGD,OAAO;IAC9B,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;EAEAT,iBAAiB;IACf,IAAI,CAACK,UAAU,GAAG,IAAI,CAACA,UAAU,CAACM,IAAI,EAAE;IACxC,IAAI,IAAI,CAACN,UAAU,CAACO,MAAM,IAAI,CAAC,EAAE;MAC/B,IAAI,CAACT,MAAM,EAAE;KACd,MAAM;MACL,IAAI,CAACK,aAAa,GAAG,EAAE;;EAE3B;;AA5BWX,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX9BrB,8BAAiB;MAEPA,uBAAO;MAAAA,iBAAK;MAChBA,6BAAwB;MACtBA,wEACmE;MACrEA,iBAAK;;;MADgBA,eAAgB;MAAhBA,2CAAgB","names":["debounceTime","i0","BuscadorComponent","constructor","http","handleSearchInput","bind","ngOnInit","search","get","searchTerm","subscribe","results","searchResults","error","console","trim","length","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\fredd\\Desktop\\Programacion\\Java\\Angular\\Web-Laboratorio\\src\\app\\buscador\\buscador.component.ts","C:\\Users\\fredd\\Desktop\\Programacion\\Java\\Angular\\Web-Laboratorio\\src\\app\\buscador\\buscador.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IAnalisis } from '../interfaces/Ianalisis';\nimport { Observable, debounceTime, distinctUntilChanged } from 'rxjs';\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\nimport { AnalisisService } from '../services/analisis-service.service';\n\n@Component({\n  selector: 'app-buscador',\n  templateUrl: './buscador.component.html',\n  styleUrls: ['./buscador.component.css']\n})\nexport class BuscadorComponent implements OnInit{\n\n  searchTerm: string;\n  searchResults: any[] = [];\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n  }\n\n  search() {\n    this.http.get<any[]>(`/api/busqueda?query=${this.searchTerm}`).subscribe(\n      results => {\n        this.searchResults = results;\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n\n  handleSearchInput() {\n    this.searchTerm = this.searchTerm.trim();\n    if (this.searchTerm.length >= 3) {\n      this.search();\n    } else {\n      this.searchResults = [];\n    }\n  }\n\n  debouncedSearch = debounceTime(300)(this.handleSearchInput.bind(this));\n}\n","<div class=\"row\">\n    <div class=\"col-md-6\">\n      <h2>Lista 1</h2>\n      <ul  class=\"list-group\">\n        <button type=\"button\" class=\"list-group-item list-group-item-action\"\n        *ngFor=\"let result of searchResults\">{{ result.analisis }}</button>\n      </ul>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}